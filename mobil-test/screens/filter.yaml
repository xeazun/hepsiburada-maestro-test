appId: com.pozitron.hepsiburada
---
# Sayfa animasyonlarının bitmesini bekledik. Filtreye tıklamadan önce yüklenmesi lazım.
- waitForAnimationToEnd

# Sol üstteki filtre ikonuna koordinatla tıkladık. ID yok, koordinat kullanıldı.
- tapOn:
    point: 4%,12%

# Filtre sayfası açıldı mı kontrol edildi.
- assertVisible: Filtrele

# Beden filtresini uygulandı (42).
# Arama kutusunu kullandık çünkü liste uzun, scroll yapmaktansa aramak daha hızlı.
- tapOn: Beden
- tapOn:
    id: search
- inputText: "42"
- tapOn:
    text: "42"
    index: 1
- tapOn:
    id: btnApply

# Fiyat aralığı filtresini uygulandı(3000-5000 TL).
# Min ve max input'lara değerler girildi.
- tapOn: Fiyat Aralığı
- tapOn:
    id: clMinPrice
- inputText: "3000"
- tapOn:
    id: clMaxPrice
- inputText: "5000"

# Klavyeyi kapattık, yoksa ekranı kapatıyor.
- tapOn:
    id: input_method_nav_back
- tapOn:
    id: btnApply

# Cinsiyet filtresini uygulandı.
# rootLayout index:1 kullanıldı çünkü ikinci eleman Erkek seçeneği.
- tapOn: Cinsiyet
- tapOn:
    id: rootLayout
    index: 1
- tapOn:
    id: btnApply

# Renk filtresi aşağıda, scroll yapıp bulundu.
- scrollUntilVisible:
    element:
      text: "Renk"
    direction: DOWN
    timeout: 10000

# Renk filtresini uygulandı.
- tapOn: Renk
- tapOn: Beyaz
- tapOn:
    id: btnApply

# Tüm filtreleri uygulandı, ana sayfaya dönüldü.
- tapOn:
    id: btnApply

- waitForAnimationToEnd

# Filtrelerin uygulandığını doğrulamak için filtre butonuna tekrar tıklandı.
# "5" = uygulanan filtre sayısı (marka, beden, fiyat, cinsiyet, renk).
- tapOn: "5"

# Seçili filtrelerin işaretli olduğunu kontrol edildi.
# Eğer seçili değilse filtreler uygulanmamış demektir.
- assertVisible: |-
    adidas
    Seçili
- assertVisible: |-
    42
    Seçili
- assertVisible: |-
    3000 - 5000 TL
    Seçili

# Cinsiyet ve Renk aşağıda, scroll yapıldı.
- scrollUntilVisible:
    element:
      text: "Renk"
    direction: DOWN
    timeout: 10000

- assertVisible: |-
    Erkek
    Seçili
- assertVisible: |-
    Beyaz
    Seçili

# Filtre sayfasını kapattık, ürün listesine dönüldü.
- tapOn:
    id: btnApply
